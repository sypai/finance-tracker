/* src/styles/_accounts.css */

/* 1. The Account Group (Accordion) */
.account-group {
    border-bottom: 1px solid var(--card-border);
}
.account-group:last-child {
    border-bottom: none;
}
.account-group-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2.5rem 1rem 0.5rem;
    cursor: pointer;
    position: relative;
    transition: background-color var(--transition-fast);
}
.account-group:not(.is-open):hover .account-group-header {
    background-color: var(--card-hover-bg);
}
.account-group-header span:first-child {
    font-size: 1rem; font-weight: 600; color: var(--text-primary);
}
.account-group-header .group-total {
    font-family: var(--font-mono); font-weight: 500; font-size: 1rem;
}
.account-group-header .chevron-icon {
    position: absolute; right: 0.75rem; top: 50%;
    transform: translateY(-50%) rotate(0deg);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--text-secondary);
}

/* 2. The "Inset" List Area */
.account-group-list {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    background-color: var(--background); /* The #131314 inset */
    border-radius: var(--radius-md);
    padding: 0 0.5rem; /* Horizontal padding for the inset area */
    margin: 0 0.5rem 0 0.5rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 3. The "Open" State */
.account-group.is-open .chevron-icon {
    transform: translateY(-50%) rotate(-180deg);
}
.account-group.is-open .account-group-list {
    max-height: 5000px; /* Use large value */
    opacity: 1;
    margin-bottom: 1rem;
}

/* 4. The Horizontal Scroller */
.account-group-list .horizontal-stream-container {
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    overflow-y: hidden;
    gap: 0.75rem; /* 12px space between cards */
    padding: 1.25rem 0.5rem; /* Vertical padding + edge padding */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: var(--card-border) transparent;
}
.account-group-list .horizontal-stream-container::-webkit-scrollbar { height: 8px; }
.account-group-list .horizontal-stream-container::-webkit-scrollbar-track { background: transparent; }
.account-group-list .horizontal-stream-container::-webkit-scrollbar-thumb {
    background-color: var(--card-border);
    border-radius: 4px;
}
.account-group-list .horizontal-stream-container::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.2);
}


/* 5. The "Account List Card" (FIX for Point 3) */
.account-list-card {
    flex-shrink: 0;
    width: 320px; /* --- WIDER CARD (was 300px) --- */
    
    display: flex;
    align-items: center;
    gap: 0.75rem; /* 12px */
    background-color: var(--card-bg); /* #1E1F20 */
    border: 1px solid var(--card-border);
    padding: 0.75rem 1rem; /* 12px 16px */
    border-radius: var(--radius-md);
    transition: all 0.2s ease-out;
    position: relative; /* For actions button */
}
.account-list-card:hover {
    transform: translateY(-2px);
    border-color: rgba(29, 78, 216, 0.5);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}
.account-list-card .icon-wrapper {
    flex-shrink: 0;
    width: 2.5rem; /* 40px */
    height: 2.5rem;
    border-radius: 50%;
    background-color: var(--background); /* #131314 */
    border: 1px solid var(--card-border);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary-accent);
    transition: all 0.2s ease-out;
}
.account-list-card:hover .icon-wrapper {
    border-color: rgba(29, 78, 216, 0.5);
}

/* Middle content (FIX for Point 3) */
.account-list-card .flex-1 {
    min-width: 0; 
    text-align: left;
    padding-right: 0.5rem; 
}
/* --- SMALLER FONT --- */
.account-list-card .account-name {
    font-size: 0.875rem; /* 14px (was text-base) */
    font-weight: 600; /* font-semibold (was font-bold) */
    color: var(--text-primary);
    truncate: true;
}
.account-list-card .account-details {
    font-size: 0.75rem; /* 12px (was text-sm) */
    color: var(--text-secondary);
    truncate: true;
}


/* Right-aligned content (FIX for Point 3) */
.account-list-card .text-right {
    margin-left: auto; 
    padding-left: 0.5rem;
    text-align: right;
    flex-shrink: 0; 
    padding-right: 1.75rem; 
}
/* --- SMALLER FONT --- */
.account-list-card .account-balance {
    font-family: var(--font-mono);
    font-size: 1rem; /* 16px (was text-lg) */
    font-weight: 600; /* font-semibold */
}


.account-list-card .actions-btn {
    position: absolute;
    top: 50%;
    right: 0.5rem; /* 8px */
    transform: translateY(-50%);
    padding: 0.5rem;
    border-radius: 50%;
    color: var(--text-secondary);
    opacity: 0;
    transition: all var(--transition-fast);
}
.account-list-card:hover .actions-btn {
    opacity: 1;
}
.account-list-card .actions-btn:hover {
    background-color: var(--card-hover-bg);
    color: var(--text-primary);
}

/* 6. Command Bar Gradient */
#account-journal-header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 1.25rem;
    right: 1.25rem;
    height: 1px;
    background: linear-gradient(
        to right,
        transparent,
        rgba(255, 255, 255, 0.15) 20%,
        rgba(255, 255, 255, 0.15) 80%,
        transparent
    );
}

/* 7. Mobile stacking */
@media (max-width: 767px) {
    .account-group-list .horizontal-stream-container {
        flex-direction: column;
        overflow-x: hidden;
        gap: 0.75rem; 
        padding: 0.5rem 0.25rem;
    }
    .account-list-card {
        width: 100%; 
    }
}

/* src/styles/_accounts.css */

/* ... all existing rules ... */

/* NEW: Disable hover effect for static KPI cards */
.kpi-card:hover {
    transform: none; /* Disable the lift */
    box-shadow: none; /* Disable the shadow */
    /* By not defining border-color or background, we ALLOW */
    /* the default .card:hover styles to apply. */
}

/* src/styles/_accounts.css */

/* ... */

/* Right-aligned content (FIX for Point 3) */
.account-list-card .text-right {
    margin-left: auto; 
    padding-left: 0.5rem;
    text-align: right;
    flex-shrink: 0; 
    padding-right: 1.75rem; 
    
    /* --- ADD THESE 3 LINES --- */
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.account-list-card .account-number-subtext {
    font-family: var(--font-mono);
    font-size: 0.625rem; /* --- THIS IS THE CHANGE (10px) --- */
    color: var(--text-secondary);
    margin-top: 0.125rem; /* 2px */
    letter-spacing: 0.025em; /* Add a slight letter-spacing for clarity */
}

#balanceHistoryTabs .expense-tab {
    flex-grow: 1;
    justify-content: center; /* Ensures text is centered */
}
